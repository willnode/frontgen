(this.webpackJsonpwebgen=this.webpackJsonpwebgen||[]).push([[0],{30:function(e){e.exports=JSON.parse('{"head":{"properties":{"element":"head"},"children":[{"properties":{"element":"link","rel":"stylesheet","href":"https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css"}},{"properties":{"element":"script","defer":true,"src":"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"}}]},"body":{"children":[],"properties":{"element":"body"}},"flavors":{"margin":{"type":"options","target":"className","values":[0,1,2,3,4,5],"formats":["m-*","ms-*","me-*","mt-*","mb-*","mx-*","my-*"]},"padding":{"type":"options","target":"className","values":[0,1,2,3,4,5],"formats":["p-*","ps-*","pe-*","pt-*","pb-*","px-*","py-*"]},"text":{"type":"text","target":"children"},"style":{"type":"text","target":"style","language":"css"},"class":{"type":"text","target":"className"},"id":{"type":"text","target":"id"},"element":{"type":"options","target":"element","values":["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","br","button","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","param","picture","portal","pre","progress","q","rp","rt","ruby","s","samp","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video","wbr"]}},"components":{"button":{"properties":{"element":"button","className":"btn"},"defaults":{"text":"Button"},"variants":{"colors":{"type":"options","target":"className","default":["primary"],"values":["primary","secondary","danger","warning","success","dark","light"],"formats":["btn-*"]},"type":{"type":"options","target":"type","default":"submit","values":["submit","reset","button"]}}},"card":{"properties":{"className":"card"},"defaults":{"children":[{"attributes":{"class":"card-body"},"children":[{"component":"typography","attributes":{"element":["h5"],"class":"card-title","text":"Card title"}},{"component":"typography","attributes":{"element":["p"],"class":"card-text","text":"Card body"}}]}]}},"columns":{"variants":{"width":{"type":"options","target":"className","values":["auto",1,2,3,4,5,6,7,8,9,10,11,12],"formats":["col","col-xl-*","col-lg-*","col-md-*","col-xs-*","col-*"]}}},"container":{"variants":{"width":{"type":"options","target":"className","default":"container","values":["container","container-fluid"]},"maxWidth":{"type":"options","target":"style","values":["100px"],"formats":["maxWidth: *"]}}},"rows":{"properties":{"className":"row"},"variants":{"gutter":{"type":"options","target":"style","values":[0,1,2,3,4,5],"formats":["g-*"]}}},"image":{"properties":{"element":"img"},"defaults":{"src":"./logo512.png","width":"150","alt":" "},"variants":{"src":{"type":"text","target":"src"},"alt":{"type":"text","target":"alt"},"width":{"type":"text","target":"width"},"height":{"type":"text","target":"height"}}},"typography":{"defaults":{"text":"Enter text here"},"variants":{"variant":{"type":"options","target":"className","values":["display-1","display-2","display-3","display-4","lead"]},"align":{"type":"options","target":"className","values":["start","center","end","justify"],"formats":["text-*"]},"color":{"type":"options","target":"className","values":["black","black-50","white","danger","warning","success","primary"],"formats":["text-*"]}}},"nav":{}}}')},43:function(e,t,n){},44:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(12),o=n.n(i),c=(n(43),n(5)),s=n(21),l=n(3),d=(n(44),n(30)),u=n(10),p=n(24),b=function(e,t){return e.map((function(e){switch(t.length){case 1:return t[0];case 2:return t[0]+e+t[1];default:return""}}))},f=function(e){return Object.entries(e).forEach((function(t){var n=Object(c.a)(t,2),r=n[0],a=n[1];e[r]=Object(l.a)(Object(l.a)(Object(l.a)({},a),{},{default:"options"===a.type&&a.default&&!Array.isArray(a.default)?[a.default]:a.default,name:r},a.formats?{formatExpands:a.formats.map((function(e){return e.split("*",2)}))}:{formats:["*"],formatExpands:[["",""]]}),{},{multiple:a.formats&&a.formats.length>1})})),e},h=function(e){return{head:e.head,body:e.body,flavors:f(e.flavors),components:Object.entries(e.components).map((function(e){var t=Object(c.a)(e,2);return function(e,t){var n=Object(l.a)(Object(l.a)({},t),{},{name:e});return n.variants&&(n.variants=f(n.variants)),n}(t[0],t[1])})).reduce((function(e,t){return e[t.name]=t,e}),{})}};function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t(e,n);var r,a=Object(p.a)(e.children);try{for(a.s();!(r=a.n()).done;){var i=r.value;m(i,t,e.id)}}catch(o){a.e(o)}finally{a.f()}}function j(e,t,n){var r=document.createElement("a");if(r.setAttribute("href","data:"+t+";charset=utf-8,"+encodeURIComponent(n)),r.setAttribute("download",e),document.createEvent){var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0),r.dispatchEvent(a)}else r.click()}var v={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function g(e){return v[e]||!1}var x,O,y,w,k,E,C,N,S,P,D=n(70),I=n(25),M=n.n(I),A=n(6),F=n(7),J=F.a.div(x||(x=Object(A.a)(["\n    display: flex;\n"]))),R=F.a.div(O||(O=Object(A.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 25%;\n    background: whitesmoke;\n    padding: 10px 0;\n    max-height: 100vh;\n"]))),T="\n    color: rgba(0, 0, 0, 0.87);\n    transition: all 0.2s;\n    background: white;\n    box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n",H=F.a.div(y||(y=Object(A.a)(["\n    display: flex;\n    flex-wrap: wrap;\n"]))),V=F.a.div(w||(w=Object(A.a)(["\n    width: calc(50% - 4px);\n    margin: 2px;\n    userSelect: none;\n    padding: 4px;\n    ","\n    background: ",";\n    &:hover {\n        box-shadow: 0 0 4px lightblue;\n    }\n"])),(function(){return T}),(function(e){return e.dragging?"lightblue":"white"})),W=F.a.div(k||(k=Object(A.a)(["\n    width: 100%;\n    padding: 0 8px;\n    margin-top: 10px;\n    margin-bottom: 4px;\n    user-select: none;\n    flex-grow: 1;\n    overflow-y: auto;\n"]))),B=F.a.div(E||(E=Object(A.a)(["\n    width: calc(100% - 8px);\n    margin-top: 4px;\n    margin-bottom: 4px;\n    margin-left: 8px;\n    ","\n    & > span {\n        margin: 0px 8px;\n        padding: 4px;\n        display: block;\n    }\n    & > span .id {\n        color: #0009;\n    }\n"])),(function(){return T})),L=F.a.div(C||(C=Object(A.a)(["\n    width: 100%;\n    display: flex;\n    padding: 2px 8px;\n    & > span {\n        flex-grow: 1;\n        display: block;\n    }\n"]))),U=F.a.div(N||(N=Object(A.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 50%;\n    & > nav {\n        height: 40px;\n        background: whitesmoke;\n    }\n"]))),_=F.a.iframe(S||(S=Object(A.a)(["\n    width: 100%;\n    height: calc(100vh - 44px);\n    border: none;\n"]))),q=F.a.textarea(P||(P=Object(A.a)(["\n    width: 100%;\n    height: calc(100vh - 44px);\n    border: none;\n"]))),z=n(2),Y=function(e,t){return{backgroundColor:e.isDraggingOver?"lightblue":t?"lightyellow":"gainsboro",minHeight:"50px"}},G=function(e,t,n){switch(Array.isArray(t)&&(t=t.join(" ")),e){case"className":return void(n.className=n.className?n.className+" "+t:t);case"style":return void(n.style=Object(l.a)(Object(l.a)({},n.style||{}),function(e){try{return e.split(";").reduce((function(e,t){var n=t.split(":",2);return 2===n.length&&(e[function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}(n[0])]=n[1].trim()),e}),{})}catch(t){return{}}}(t)));default:return void(n[e]=t)}},K=function e(t){var n,r=t.elem,i=t.info,o=i.components[r.component],l={};if(r.properties)for(var d=0,u=Object.entries(r.properties);d<u.length;d++){var p=Object(c.a)(u[d],2),b=p[0],f=p[1];G(b,f,l)}if(null===o||void 0===o?void 0:o.properties)for(var h=0,m=Object.entries(o.properties);h<m.length;h++){var j=Object(c.a)(m[h],2),v=j[0],x=j[1];G(v,x,l)}r.attributes&&Object.keys(r.attributes).forEach((function(e){var t,n=(null===o||void 0===o||null===(t=o.variants)||void 0===t?void 0:t[e])||i.flavors[e];n&&G(n.target,r.attributes[e],l)}));var O=l.element||"div";return delete l.element,r.renderedElem=O,r.renderedProps=l,a.a.createElement.apply(a.a,[O,l].concat(Object(s.a)(!g(O)&&(null===(n=r.children)||void 0===n?void 0:n.map((function(t,n){return Object(z.jsx)(e,{elem:t,info:i},t.id||n)})))||[])))},Q=function e(t){var n,r,a=t.data,i=t.info,o=t.selection,c=t.setSelection,s=i.components[a.component],d=o!==a.id;return Object(z.jsxs)(B,{onClick:function(e){e.stopPropagation(),c(a.id)},children:[Object(z.jsxs)("span",{children:[o===a.id&&"\u25b6"," ",(null===s||void 0===s?void 0:s.name)||a.renderedElem,Object(z.jsx)("span",{className:"id",children:(null===(n=a.renderedProps)||void 0===n?void 0:n.id)&&"#"+a.renderedProps.id})]}),!g(a.renderedElem)&&((null===(r=a.children)||void 0===r?void 0:r.length)>0||!d)&&Object(z.jsx)(u.c,{droppableId:a.id,isDropDisabled:d,children:function(t,n){return Object(z.jsxs)(D.a,Object(l.a)(Object(l.a)({ref:t.innerRef,style:Y(n,o===a.id)},t.droppableProps),{},{children:[a.children.map((function(t){return Object(z.jsx)(e,{info:i,data:t,selection:o,setSelection:c},t.id)})),t.placeholder]}))}})]})},X=function(e){var t=e.adapter;return Object(z.jsx)(u.c,{droppableId:"list",isDropDisabled:!0,children:function(e,n){return Object(z.jsxs)(H,Object(l.a)(Object(l.a)({ref:e.innerRef},e.droppableProps),{},{children:[Object(z.jsx)(u.b,{draggableId:"___",index:0,children:function(e,t){return Object(z.jsx)(V,Object(l.a)(Object(l.a)(Object(l.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{dragging:t.isDragging,style:e.draggableProps.style,children:"[custom]"}))}}),Object.values(t.components).map((function(e,t){return Object(z.jsx)(u.b,{draggableId:e.name,index:t+1,children:function(t,n){return Object(z.jsx)(V,Object(l.a)(Object(l.a)(Object(l.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{dragging:n.isDragging,style:t.draggableProps.style,children:e.name}))}},e.name)})),e.placeholder]}))}})},Z=function(e){var t=e.elem,n=e.prop,r=e.val,a=e.setVal;switch(n.type){case"options":return Object(z.jsxs)(L,{children:[Object(z.jsx)("span",{children:n.name}),Object(z.jsx)("div",{children:(r||[null]).map((function(e,i){var o=function(e,t){if(null==e)return[null,null];var n,r=0,a=Object(p.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(1===i.length&&e===i[0])return["",r];if(e.startsWith(i[0])&&e.endsWith(i[1]))return[e.substring(i[0].length,e.length-i[1].length),r];r++}}catch(o){a.e(o)}finally{a.f()}return[e,0]}(e,n.formatExpands),c=!e;return Object(z.jsxs)("div",{children:[Object(z.jsxs)("select",{disabled:c,value:o[0]||"",onChange:function(e){r[i]=b([e.target.value],n.formatExpands[o[1]])[0],a(t,n,r)},children:[c&&Object(z.jsx)("option",{}),n.values.map((function(e){return Object(z.jsx)("option",{children:e},e)}))]}),Object(z.jsxs)("select",{"data-val":null===o[0]?0:o[1]+1,value:null===o[0]?0:o[1]+1,onChange:function(e){null==r&&(r=o=[n.values[0]]);var c=parseInt(e.target.value)-1;if(-1===c){if(r.splice(i,1),0===r.length)return a(t,n,null)}else r[i]=b([o[0]],n.formatExpands[c])[0];a(t,n,r)},children:[!n.default&&Object(z.jsx)("option",{value:"0"}),n.formats.map((function(e,t){return Object(z.jsx)("option",{value:t+1,children:e},e)}))]}),n.multiple&&0===i&&Object(z.jsx)("button",{disabled:c,onClick:function(){r.push(null),a(t,n,r)},children:"+"}),n.multiple&&i>0&&Object(z.jsx)("button",{onClick:function(){r.splice(i),a(t,n,r)},children:"-"})]},e)}))})]});case"text":return Object(z.jsxs)(L,{children:[Object(z.jsx)("span",{children:n.name}),Object(z.jsx)("input",{type:"text",value:r||"",onChange:function(e){return a(t,n,e.target.value)}})]});default:return Object(z.jsxs)(L,{children:[n.name,"?"]})}},$=function(e){var t=e.elem,n=e.info,r=e.setProp,a=e.onDel,i=e.onClone,o=e.onMove;if(!t)return Object(z.jsx)(z.Fragment,{});var c=n.components[t.component];return Object(z.jsxs)("div",{children:[c&&c.variants&&Object.values(c.variants).map((function(e){return Object(z.jsx)(Z,{info:n,elem:t,prop:e,val:t.attributes[e.name],setVal:r},e.name)})),Object(z.jsx)("hr",{}),Object.values(n.flavors).map((function(e){return Object(z.jsx)(Z,{info:n,elem:t,prop:e,val:t.attributes[e.name],setVal:r},e.name)})),Object(z.jsx)("hr",{}),t.parent&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("button",{onClick:function(){return o(-1)},children:"Move Up"}),Object(z.jsx)("button",{onClick:function(){return o(1)},children:"Move Down"}),Object(z.jsx)("button",{onClick:function(){return i()},children:"Clone"}),Object(z.jsx)("button",{onClick:function(){return a()},children:"Delete"})]})]})},ee=n(27),te=n.n(ee),ne=function(e){var t=e.html,n=e.workspace,a=e.setIter,i=Object(r.useState)(0),o=Object(c.a)(i,2),s=o[0],l=o[1];return Object(z.jsxs)(U,{children:[Object(z.jsxs)("nav",{children:[Object(z.jsx)("button",{onClick:function(){return l(0)},children:"Visual"}),Object(z.jsx)("button",{onClick:function(){return l(1)},children:"HTML"}),Object(z.jsx)("button",{onClick:function(){return function(e,t){var n=document.createElement("input");if(n.setAttribute("type","file"),n.setAttribute("accept","application/json"),n.onchange=function(r){var a=Array.from(n.files);if(1===a.length){var i=new FileReader;i.onload=function(n){try{var r=JSON.parse(""+n.target.result),a={};m(r,(function(e){a[e.id]=e})),e.body=r,e.indexes=a,t()}catch(i){alert("Failed to read")}},i.onerror=function(e){return alert("Failed to open")},i.readAsText(a[0])}},document.createEvent){var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}else n.click()}(n,a)},children:"Open"}),Object(z.jsx)("button",{onClick:function(){return j("webgendata.json","application/json",JSON.stringify(n.body))},children:"Save"}),Object(z.jsx)("button",{onClick:function(){return j("index.html","text/html",te()(t))},children:"Export"})]}),Object(z.jsxs)("main",{children:[0===s&&Object(z.jsx)(_,{srcDoc:t,title:"Playground"}),1===s&&Object(z.jsx)(q,{value:te()(t),readOnly:!0})]})]})},re=function(){return""+Math.random()},ae=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c={component:(null===n||void 0===n?void 0:n.name)||null,children:a||[],attributes:i||{},properties:o||{},id:re(),parent:r};if((null===n||void 0===n?void 0:n.variants)&&Object.values(n.variants).forEach((function(e){switch(e.type){case"options":c.attributes[e.name]=e.default?b(e.default,e.formatExpands[0]):null;break;default:c.attributes[e.name]=e.default||null}})),(null===n||void 0===n?void 0:n.defaults)&&(c.attributes=Object(l.a)(Object(l.a)({},c.attributes),n.defaults),n.defaults.children)){var d,u=JSON.parse(JSON.stringify(n.defaults.children));delete c.attributes.children,(d=c.children).push.apply(d,Object(s.a)(u))}return c.children.length>0&&c.children.forEach((function(n){m(n,(function(n,r){Object.assign(n,e(t,t.adapter.components[n.component],r||c.id,n.children,n.attributes,n.properties))}))})),t.indexes[c.id]=c,c};var ie=function(){var e=Object(r.useRef)(null),t=Object(r.useState)(0),n=Object(c.a)(t,2),a=n[0],i=n[1];if(null===e.current){var o=h(d),s=o.body;e.current={adapter:o,body:null,indexes:{}},e.current.body=ae(e.current,o.components[s.component],null,s.children,s.attributes,s.properties)}var l=e.current,p=Object(r.useState)(l.body.id),b=Object(c.a)(p,2),f=b[0],j=b[1],v=Object(r.useMemo)((function(){return function(e,t){var n=M.a.renderToStaticMarkup(Object(z.jsx)(K,{elem:e.head,info:e})),r=M.a.renderToStaticMarkup(Object(z.jsx)(K,{elem:t,info:e}));return'<!DOCTYPE html><html lang="en">'.concat(n).concat(r,"</html>")}(l.adapter,l.body)}),[a]);return Object(z.jsxs)(J,{children:[Object(z.jsx)(R,{children:Object(z.jsxs)(u.a,{onDragEnd:function(e){e.destination&&(console.log(e),"list"===e.source.droppableId&&function(e){var t=ae(l,e,f);l.indexes[f].children.push(t),j(t.id),i(a+1)}(l.adapter.components[e.draggableId]))},children:[Object(z.jsx)(X,{adapter:l.adapter}),Object(z.jsx)(W,{children:Object(z.jsx)(Q,{info:l.adapter,data:l.body,selection:f,setSelection:j})})]})}),Object(z.jsx)(ne,{html:v,workspace:l,setIter:function(){return i(a+1)}}),Object(z.jsx)(R,{children:Object(z.jsx)($,{elem:f&&l.indexes[f],info:l.adapter,setProp:function(e,t,n){n?e.attributes[t.name]=n:delete e.attributes[t.name],i(a+1)},onClone:function(){var e=l.indexes[f];if(e.parent){var t=l.indexes[e.parent],n=t.children.findIndex((function(t){return t.id===e.id})),r=JSON.parse(JSON.stringify(e));m(r,(function(e){e.id=re(),l.indexes[e.id]=e})),t.children.splice(n+1,0,r),j(r.id),i(a+1)}else alert("Can't clone this")},onDel:function(){var e=l.indexes[f];if(e.parent){var t=l.indexes[e.parent],n=t.children.findIndex((function(t){return t.id===e.id}));m(t.children.splice(n,1)[0],(function(e){delete l.indexes[e.id]})),i(a+1)}else alert("Can't delete this")},onMove:function(e){var t=l.indexes[f];if(t.parent){var n=l.indexes[t.parent],r=n.children.findIndex((function(e){return e.id===t.id})),o=Math.max(0,Math.min(n.children.length-1,r+e));o!==r&&(n.children[r]=n.children[o],n.children[o]=t,i(a+1))}else alert("Can't move this")}})})]})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};o.a.render(Object(z.jsx)(a.a.StrictMode,{children:Object(z.jsx)(ie,{})}),document.getElementById("root")),oe()}},[[58,1,2]]]);
//# sourceMappingURL=main.39853d7c.chunk.js.map
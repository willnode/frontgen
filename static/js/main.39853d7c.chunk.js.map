{"version":3,"sources":["utils.js","styles.js","comp.jsx","picker.jsx","inspector.jsx","display.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["shrinkFormat","value","expandedFormat","map","length","extractVariants","v","Object","entries","forEach","vk","vv","default","type","Array","isArray","name","formats","formatExpands","f","split","multiple","expandAdapter","config","head","body","flavors","components","k","r","variants","extractComponent","reduce","a","x","traverseIndexes","action","parent","children","child","id","initiateDownload","filename","text","pom","document","createElement","setAttribute","encodeURIComponent","createEvent","event","initEvent","dispatchEvent","click","omittedCloseTags","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","isTagOmitted","tag","AppContainer","styled","div","AppSidebar","paperCss","PickerContainer","PickerItem","p","dragging","HierarchyContainer","HierarchyItem","InspectorItem","AppWorkspace","IframePlayground","iframe","SourceTextPlayground","textarea","getCompStyle","snapshot","selected","backgroundColor","isDraggingOver","minHeight","combineAttr","val","dest","join","className","style","str","o","l","s","replace","g","toUpperCase","camelCase","trim","error","expandStyleString","HtmlComponent","elem","info","comp","component","attr","properties","key","attributes","keys","varia","target","element","renderedElem","renderedProps","React","i","DrawComponent","data","selection","setSelection","disallowDrop","onClick","e","stopPropagation","droppableId","isDropDisabled","provided","List","ref","innerRef","droppableProps","placeholder","PickerDrawer","adapter","draggableId","index","draggableProps","dragHandleProps","isDragging","values","DrawInspectorItem","prop","setVal","exp","expandedFormats","startsWith","endsWith","substring","expandFormat","unselected","disabled","onChange","selval","parseInt","splice","push","DrawInspector","setProp","onDel","onClone","onMove","DisplayWindow","html","workspace","setIter","useState","page","setPage","onchange","_","files","from","reader","FileReader","onload","c","JSON","parse","result","d","b","indexes","alert","onerror","readAsText","initiateOpen","stringify","srcDoc","title","readOnly","generateId","Math","random","expandElement","defaults","cc","assign","App","workspaceRef","useRef","iter","current","boostrap","bodyA","select","setSelect","useMemo","ReactDOMServer","renderToStaticMarkup","renderHtmlComponent","onDragEnd","destination","console","log","addComponent","newVal","findIndex","rel","newi","max","min","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.39853d7c.chunk.js","sourcesContent":["export const shrinkFormat = (value, expandedFormat) => {\n    return value.map(value => {\n        switch (expandedFormat.length) {\n            case 1:\n                return expandedFormat[0];\n            case 2:\n                return expandedFormat[0] + value + expandedFormat[1];\n            default:\n                return \"\";\n        }\n    });\n}\nexport const expandFormat = (value, expandedFormats) => {\n    if (value == null)\n        return [null, null];\n    let i = 0;\n    for (const x of expandedFormats) {\n        if (x.length === 1 && value === x[0]) {\n            return [\"\", i];\n        } else if (value.startsWith(x[0]) && value.endsWith(x[1])) {\n            return [value.substring(x[0].length, value.length - x[1].length), i];\n        }\n        i++;\n    }\n    return [value, 0];\n}\n/**\n * @return {import(\"./types\").AppComponent}\n */\nconst extractComponent = (k, v) => {\n    var r = {\n        ...v,\n        name: k,\n    }\n    if (r.variants) {\n        r.variants = extractVariants(r.variants);\n    }\n    return r;\n}\n/**\n * @return {Object<string, import(\"./types\").AppVariant>}\n */\nconst extractVariants = (v) => {\n    Object.entries(v).forEach(([vk, vv]) => {\n        v[vk] = {\n            ...vv,\n            default: vv.type === \"options\" && vv.default && !Array.isArray(vv.default) ? [vv.default] : vv.default,\n            name: vk,\n            ...(vv.formats ? {\n                formatExpands: vv.formats\n                    .map(f => f.split(\"*\", 2)),\n            } : {\n                formats: [\"*\"],\n                formatExpands: [\n                    [\"\", \"\"]\n                ]\n            }),\n            multiple: vv.formats && vv.formats.length > 1,\n        };\n    });\n    return v;\n}\n/**\n * @returns {import(\"./types\").AppAdapter}\n */\nexport const expandAdapter = (config) => {\n    return {\n        head: config.head,\n        body: config.body,\n        flavors: extractVariants(config.flavors),\n        components: Object.entries(config.components)\n            .map(([k, v]) => extractComponent(k, v))\n            .reduce((a, x) => {\n                a[x.name] = x;\n                return a\n            }, {})\n    };;\n}\n\n/**\n * @param {import(\"./types\").AppElement} body\n * @param {(b: import(\"./types\").AppElement, p: string) => void} action\n */\nexport function traverseIndexes(body, action, parent = null) {\n    action(body, parent);\n    for (const child of body.children) {\n        traverseIndexes(child, action, body.id);\n    }\n}\n\nfunction camelCase(str) {\n    return str.replace(/-([a-z])/g, function (g) {\n        return g[1].toUpperCase();\n    });\n}\n/**\n * @param {string} str\n * @returns {Object<string, any>}\n */\nexport function expandStyleString(str) {\n    try {\n        return str.split(\";\")\n            .reduce((o, l) => {\n                var s = l.split(\":\", 2);\n                if (s.length === 2)\n                    o[camelCase(s[0])] = s[1].trim();\n                return o;\n            }, {});\n    } catch (error) {\n        return {};\n    }\n}\n/**\n * @param {import(\"./types\").AppWorkspace} workspace\n */\nexport function initiateOpen(workspace, setIter) {\n    var input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.setAttribute('accept', 'application/json');\n    input.onchange = _ => {\n        // you can use this method to get file and perform respective operations\n        let files = Array.from(input.files);\n        if (files.length === 1) {\n            const reader = new FileReader()\n            reader.onload = event => {\n                try {\n                    var c = JSON.parse(\"\" + event.target.result);\n                    /**\n                     * @type {Object<string, import(\"./types\").AppElement>}\n                     */\n                    var d = {};\n                    traverseIndexes(c, (b) => {\n                        d[b.id] = b;\n                    });\n                    workspace.body = c;\n                    workspace.indexes = d;\n                    setIter();\n                } catch (error) {\n                    alert(\"Failed to read\");\n                }\n                // desired file content\n            }\n            reader.onerror = error => alert(\"Failed to open\")\n            reader.readAsText(files[0])\n        }\n    };\n    if (document.createEvent) {\n        var event = document.createEvent('MouseEvents');\n        event.initEvent('click', true, true);\n        input.dispatchEvent(event);\n    } else {\n        input.click();\n    }\n}\n\nexport function initiateDownload(filename, type, text) {\n    var pom = document.createElement('a');\n    pom.setAttribute('href', 'data:' + type + ';charset=utf-8,' + encodeURIComponent(text));\n    pom.setAttribute('download', filename);\n\n    if (document.createEvent) {\n        var event = document.createEvent('MouseEvents');\n        event.initEvent('click', true, true);\n        pom.dispatchEvent(event);\n    } else {\n        pom.click();\n    }\n}\n\n// https://github.com/facebook/react/blob/main/packages/react-dom/src/shared/omittedCloseTags.js\nconst omittedCloseTags = {\n    area: true,\n    base: true,\n    br: true,\n    col: true,\n    embed: true,\n    hr: true,\n    img: true,\n    input: true,\n    keygen: true,\n    link: true,\n    meta: true,\n    param: true,\n    source: true,\n    track: true,\n    wbr: true,\n    // NOTE: menuitem's close tag should be omitted, but that causes problems.\n  };\n\nexport function isTagOmitted(tag) {\n    return omittedCloseTags[tag] || false;\n}","import styled from \"styled-components\";\n\nexport const AppContainer = styled.div `\n    display: flex;\n`;\n\nexport const AppSidebar = styled.div `\n    display: flex;\n    flex-direction: column;\n    width: 25%;\n    background: whitesmoke;\n    padding: 10px 0;\n    max-height: 100vh;\n`;\n\n\nconst paperCss = `\n    color: rgba(0, 0, 0, 0.87);\n    transition: all 0.2s;\n    background: white;\n    box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n`\n\nexport const PickerContainer = styled.div `\n    display: flex;\n    flex-wrap: wrap;\n`;\n\n/**\n * @typedef DragProps\n * @property {boolean} dragging\n */\n\n/**\n * @type {import(\"styled-components\").StyledComponent<\"div\", any, DragProps, never>}\n */\nexport const PickerItem = styled.div `\n    width: calc(50% - 4px);\n    margin: 2px;\n    userSelect: none;\n    padding: 4px;\n    ${() => paperCss}\n    background: ${// @ts-ignore\n    p => p.dragging ? 'lightblue' : 'white'};\n    &:hover {\n        box-shadow: 0 0 4px lightblue;\n    }\n`;\n\nexport const HierarchyContainer = styled.div `\n    width: 100%;\n    padding: 0 8px;\n    margin-top: 10px;\n    margin-bottom: 4px;\n    user-select: none;\n    flex-grow: 1;\n    overflow-y: auto;\n`;\n\nexport const HierarchyItem = styled.div `\n    width: calc(100% - 8px);\n    margin-top: 4px;\n    margin-bottom: 4px;\n    margin-left: 8px;\n    ${() => paperCss}\n    & > span {\n        margin: 0px 8px;\n        padding: 4px;\n        display: block;\n    }\n    & > span .id {\n        color: #0009;\n    }\n`;\n\nexport const InspectorItem = styled.div`\n    width: 100%;\n    display: flex;\n    padding: 2px 8px;\n    & > span {\n        flex-grow: 1;\n        display: block;\n    }\n`\n\nexport const AppWorkspace = styled.div `\n    display: flex;\n    flex-direction: column;\n    width: 50%;\n    & > nav {\n        height: 40px;\n        background: whitesmoke;\n    }\n`;\nexport const IframePlayground = styled.iframe`\n    width: 100%;\n    height: calc(100vh - 44px);\n    border: none;\n`\nexport const SourceTextPlayground = styled.textarea`\n    width: 100%;\n    height: calc(100vh - 44px);\n    border: none;\n`","import { List } from '@material-ui/core';\nimport React from 'react';\nimport { Droppable } from 'react-beautiful-dnd';\nimport ReactDOMServer from 'react-dom/server';\nimport { HierarchyItem } from './styles';\nimport { expandStyleString, isTagOmitted } from './utils';\n\nexport const getCompStyle = (snapshot, selected) => {\n    return {\n        backgroundColor: snapshot.isDraggingOver ? 'lightblue' : (selected ? 'lightyellow' : 'gainsboro'),\n        minHeight: '50px',\n    }\n}\n\nconst combineAttr = (name, val, dest) => {\n    if (Array.isArray(val))\n        val = val.join(\" \");\n    switch (name) {\n        case \"className\":\n            dest.className = dest.className ? dest.className + \" \" + val : val;\n            return;\n        case \"style\":\n            dest.style = {\n                ...(dest.style || {}),\n                ...expandStyleString(val)\n            }\n            return;\n        default:\n            dest[name] = val;\n            return;\n    }\n}\n\n/**\n * @param {{info: import('./types').AppAdapter, elem: import('./types').AppElement}} props\n */\nconst HtmlComponent = ({ elem, info }) => {\n    var comp = info.components[elem.component];\n    var attr = {};\n    if (elem.properties) {\n        for (const [key, value] of Object.entries(elem.properties)) {\n            combineAttr(key, value, attr);\n        }\n    }\n    if (comp?.properties) {\n        for (const [key, value] of Object.entries(comp.properties)) {\n            combineAttr(key, value, attr);\n        }\n    }\n    if (elem.attributes) {\n        Object.keys(elem.attributes).forEach(vk => {\n            var varia = comp?.variants?.[vk] || info.flavors[vk]\n            if (varia) {\n                combineAttr(\n                    varia.target,\n                    elem.attributes[vk], attr\n                );\n            }\n        });\n    }\n\n    const element = attr.element || 'div';\n    delete attr.element;\n    elem.renderedElem = element;\n    elem.renderedProps = attr;\n    return React.createElement(\n        element,\n        attr,\n        ...((!isTagOmitted(element) && elem.children?.map((x, i) => (\n            <HtmlComponent elem={x} info={info} key={x.id || i} />\n        ))) || [])\n    );\n}\n\n/**\n * @param {import('./types').AppAdapter} info\n * @param {import('./types').AppElement} elem\n */\nexport const renderHtmlComponent = (info, elem) => {\n    var head = ReactDOMServer.renderToStaticMarkup(<HtmlComponent elem={info.head} info={info} />);\n    var body = ReactDOMServer.renderToStaticMarkup(<HtmlComponent elem={elem} info={info} />);\n    return `<!DOCTYPE html><html lang=\"en\">${head}${body}</html>`;\n}\n\n\n/**\n * @param {{data: import('./types').AppElement, info: import('./types').AppAdapter, selection: any, setSelection: Function}} props\n */\nexport const DrawComponent = ({ data, info, selection, setSelection }) => {\n    const comp = info.components[data.component];\n    const disallowDrop = selection !== data.id;\n    return (\n        <HierarchyItem onClick={(e) => {\n            e.stopPropagation();\n            setSelection(data.id)\n        }}>\n            <span>{selection === data.id && \"▶\"} {comp?.name || data.renderedElem}\n                <span className=\"id\">{data.renderedProps?.id && '#' + data.renderedProps.id}</span>\n            </span>\n            {(!isTagOmitted(data.renderedElem) && (data.children?.length > 0 || !disallowDrop)) &&\n                <Droppable droppableId={data.id} isDropDisabled={disallowDrop}>\n                    {(provided, snapshot) => (\n                        <List\n                            ref={provided.innerRef}\n                            style={getCompStyle(snapshot, selection === data.id)}\n                            {...provided.droppableProps}\n                        >\n                            {(data.children).map(x => <DrawComponent info={info} data={x} key={x.id}\n                                selection={selection} setSelection={setSelection} />)}\n                            {provided.placeholder}\n                        </List>\n                    )}\n                </Droppable>\n            }\n        </HierarchyItem>\n    )\n}\n","import React from 'react';\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\nimport { PickerContainer, PickerItem } from './styles';\n\n/**\n * @param {{adapter: import('./types').AppAdapter}} props\n */\nexport const PickerDrawer = ({ adapter }) => {\n  return (<Droppable droppableId=\"list\" isDropDisabled>\n    {(provided, snapshot) => (\n      <PickerContainer\n        ref={provided.innerRef}\n        {...provided.droppableProps}\n      >\n        <Draggable draggableId=\"___\" index={0}>\n            {(provided, snapshot) => (\n              <PickerItem\n                ref={provided.innerRef}\n                {...provided.draggableProps}\n                {...provided.dragHandleProps}\n                dragging={snapshot.isDragging}\n                style={provided.draggableProps.style}>\n                  [custom]\n              </PickerItem>\n            )}\n          </Draggable>\n        {Object.values(adapter.components).map((x, i) => (\n          <Draggable key={x.name} draggableId={x.name} index={i + 1}>\n            {(provided, snapshot) => (\n              <PickerItem\n                ref={provided.innerRef}\n                {...provided.draggableProps}\n                {...provided.dragHandleProps}\n                dragging={snapshot.isDragging}\n                style={provided.draggableProps.style}>\n                  {x.name}\n              </PickerItem>\n            )}\n          </Draggable>\n        ))}\n        {provided.placeholder}\n      </PickerContainer>\n    )}\n  </Droppable>\n  )\n}","import React from 'react';\nimport { InspectorItem } from './styles';\nimport { expandFormat, shrinkFormat } from './utils';\n\n\n/**\n * @param {{info: import('./types').AppAdapter, elem: import('./types').AppElement,\n * prop: import('./types').AppVariant, val: any, setVal: Function}} props\n */\nconst DrawInspectorItem = ({ elem, prop, val, setVal }) => {\n    switch (prop.type) {\n        case 'options':\n            return (\n                <InspectorItem>\n                    <span>{prop.name}</span>\n                    <div>\n                        {(val || [null]).map((v, i) => {\n                            var exp = expandFormat(v, prop.formatExpands);\n                            const unselected = !v;\n                            return (\n                                <div key={v}>\n                                    <select disabled={unselected} value={exp[0] || \"\"} onChange={(e) => {\n                                        val[i] = shrinkFormat([e.target.value], prop.formatExpands[exp[1]])[0];\n                                        setVal(elem, prop, val);\n                                    }}>\n                                        {unselected && <option></option>}\n                                        {prop.values.map(x => <option key={x}>{x}</option>)}\n                                    </select>\n                                    <select data-val={exp[0] === null ? 0 : (exp[1] + 1)} value={exp[0] === null ? 0 : (exp[1] + 1)} onChange={(e) => {\n                                        if (val == null) {\n                                            val = exp = [prop.values[0]];\n                                        }\n                                        var selval = parseInt(e.target.value) - 1;\n                                        if (selval === -1) {\n                                            val.splice(i, 1);\n                                            if (val.length === 0) {\n                                                return setVal(elem, prop, null);\n                                            }\n                                        } else {\n                                            val[i] = shrinkFormat([exp[0]], prop.formatExpands[selval])[0];\n                                        }\n                                        setVal(elem, prop, val);\n                                    }}>\n                                        {!prop.default && <option value=\"0\"></option>}\n                                        {prop.formats.map((x, k) => <option key={x} value={k + 1}>{x}</option>)}\n                                    </select>\n                                    {\n                                        prop.multiple && i === 0 && <button disabled={unselected} onClick={() => {\n                                            val.push(null);\n                                            setVal(elem, prop, val);\n                                        }}>+</button>\n                                    }\n                                    {\n                                        prop.multiple && i > 0 && <button onClick={() => {\n                                            val.splice(i);\n                                            setVal(elem, prop, val);\n                                        }}>-</button>\n                                    }\n                                </div>\n                            )\n                        })}\n                    </div>\n\n                </InspectorItem>\n            );\n        case 'text':\n            return (\n                <InspectorItem>\n                    <span>{prop.name}</span>\n                    <input type=\"text\" value={val || \"\"} onChange={(e) => setVal(elem, prop, e.target.value)} />\n                </InspectorItem>\n            );\n        default:\n            return (\n                <InspectorItem>\n                    {prop.name}\n                    ?\n                </InspectorItem>\n            );\n    }\n\n}\n\n/**\n * @param {{info: import('./types').AppAdapter, elem: import('./types').AppElement, setProp: Function, onDel: Function, onClone: Function, onMove: Function}} props\n */\nexport const DrawInspector = ({ elem, info, setProp, onDel, onClone, onMove }) => {\n    if (!elem) return <></>;\n    var comp = info.components[elem.component];\n    return (<div>\n        {comp && comp.variants && Object.values(comp.variants).map(x => <DrawInspectorItem info={info} elem={elem} prop={x} key={x.name} val={elem.attributes[x.name]} setVal={setProp} />)}\n        <hr />\n        {Object.values(info.flavors).map(x => <DrawInspectorItem info={info} elem={elem} prop={x} key={x.name} val={elem.attributes[x.name]} setVal={setProp} />)}\n        <hr />\n        {elem.parent && <>\n            <button onClick={() => onMove(-1)}>Move Up</button>\n            <button onClick={() => onMove(1)}>Move Down</button>\n            <button onClick={() => onClone()}>Clone</button>\n            <button onClick={() => onDel()}>Delete</button>\n        </>\n        }\n    </div>)\n}","import React, { useState } from 'react';\nimport { AppWorkspace, IframePlayground, SourceTextPlayground } from './styles';\nimport p from 'pretty';\nimport { initiateDownload, initiateOpen } from './utils';\n\nexport const DisplayWindow = ({ html, workspace, setIter }) => {\n    const [page, setPage] = useState(0);\n    return (\n        <AppWorkspace>\n            <nav>\n                <button onClick={() => setPage(0)}>Visual</button>\n                <button onClick={() => setPage(1)}>HTML</button>\n                <button onClick={() => initiateOpen(workspace, setIter)}>Open</button>\n                <button onClick={() => initiateDownload(\"webgendata.json\",\"application/json\",JSON.stringify(workspace.body))}>Save</button>\n                <button onClick={() => initiateDownload(\"index.html\",\"text/html\",p(html))}>Export</button>\n            </nav>\n            <main>\n                {page === 0 && <IframePlayground srcDoc={html} title=\"Playground\" />}\n                {page === 1 && <SourceTextPlayground value={p(html)} readOnly />}\n            </main>\n        </AppWorkspace>\n    );\n}","import { useMemo, useRef, useState } from 'react';\nimport './App.css';\nimport boostrap from './adapters/bootstrap.5.json';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport { expandAdapter, shrinkFormat, traverseIndexes } from './utils';\nimport { DrawComponent, renderHtmlComponent } from './comp';\nimport { PickerDrawer } from './picker';\nimport { AppContainer, AppSidebar, HierarchyContainer } from './styles';\nimport { DrawInspector } from './inspector';\nimport { DisplayWindow } from './display';\n\nconst generateId = () => {\n  return \"\" + Math.random();\n}\n\n/**\n * @param {import('./types').AppWorkspace} workspace\n * @param {import('./types').AppComponent} comp\n * @param {string} parent\n * @return {import('./types').AppElement}\n */\nconst expandElement = (workspace, comp, parent, children = [], attributes = {}, properties = {}) => {\n  /**\n   * @type {import('./types').AppElement}\n   */\n  var r = {\n    component: comp?.name || null,\n    children: children || [],\n    attributes: attributes || {},\n    properties: properties || {},\n    id: generateId(),\n    parent,\n  }\n\n  if (comp?.variants) {\n    Object.values(comp.variants).forEach(vv => {\n      switch (vv.type) {\n        case \"options\":\n          r.attributes[vv.name] = vv.default ?\n            shrinkFormat(vv.default, vv.formatExpands[0]) : null;\n          break;\n        default:\n          r.attributes[vv.name] = vv.default || null\n          break;\n      }\n    });\n  }\n  if (comp?.defaults) {\n    r.attributes = {\n      ...r.attributes,\n      ...comp.defaults\n    };\n    if (comp.defaults.children) {\n      // expand attr.children and move it away to proper place\n      /** @type {import('./types').AppElement[]} */\n      var cc = JSON.parse(JSON.stringify(comp.defaults.children));\n      delete r.attributes.children;\n      r.children.push(...cc);\n    }\n  }\n  if (r.children.length > 0) {\n    r.children.forEach(c => {\n      traverseIndexes(c, (cc, p) => {\n        Object.assign(cc, expandElement(workspace,\n          workspace.adapter.components[cc.component],\n          p || r.id, cc.children, cc.attributes, cc.properties))\n      });\n    });\n  }\n  workspace.indexes[r.id] = r;\n  return r;\n}\n\nfunction App() {\n\n  /**\n   * @type {React.MutableRefObject<import('./types').AppWorkspace>}\n   */\n  const workspaceRef = useRef(null);\n  const [iter, setIter] = useState(0);\n  if (workspaceRef.current === null) {\n    var adapter = expandAdapter(boostrap);\n    var bodyA = adapter.body;\n    workspaceRef.current = {\n      // @ts-ignore\n      adapter,\n      body: null,\n      indexes: {}\n    }\n    workspaceRef.current.body = expandElement(workspaceRef.current, adapter.components[bodyA.component], null,\n      bodyA.children, bodyA.attributes, bodyA.properties);\n  }\n\n  const workspace = workspaceRef.current;\n  const [select, setSelect] = useState(workspace.body.id);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const html = useMemo(() => renderHtmlComponent(workspace.adapter, workspace.body), [iter]);\n\n  const addComponent = (component) => {\n    var c = expandElement(workspace, component, select);\n    workspace.indexes[select].children.push(c);\n    setSelect(c.id);\n    setIter(iter + 1);\n  }\n\n  const onDragEnd = (/** @type {import('react-beautiful-dnd').DropResult} */ result) => {\n    if (!result.destination) {\n      return;\n    }\n    console.log(result);\n\n    if (result.source.droppableId === 'list') {\n      addComponent(workspace.adapter.components[result.draggableId]);\n    }\n  };\n\n  const onSetVal = (comp, prop, newVal) => {\n    if (!newVal)\n      delete comp.attributes[prop.name];\n    else\n      comp.attributes[prop.name] = newVal;\n    setIter(iter + 1);\n  }\n\n  const onDel = () => {\n    var c = workspace.indexes[select];\n    if (!c.parent) { alert(\"Can't delete this\"); return; }\n    var p = workspace.indexes[c.parent];\n    var i = p.children.findIndex((e) => e.id === c.id);\n    traverseIndexes(p.children.splice(i, 1)[0], (b) => {\n      delete workspace.indexes[b.id];\n    });\n    setIter(iter + 1);\n  }\n  const onClone = () => {\n    var c = workspace.indexes[select];\n    if (!c.parent) { alert(\"Can't clone this\"); return; }\n    var p = workspace.indexes[c.parent];\n    var i = p.children.findIndex((e) => e.id === c.id);\n    var cc = JSON.parse(JSON.stringify(c));\n    traverseIndexes(cc, (b) => {\n      b.id = generateId();\n      workspace.indexes[b.id] = b;\n    });\n    p.children.splice(i + 1, 0, cc);\n    setSelect(cc.id);\n    setIter(iter + 1);\n  }\n  const onMove = (rel) => {\n    var c = workspace.indexes[select];\n    if (!c.parent) { alert(\"Can't move this\"); return; }\n    var p = workspace.indexes[c.parent];\n    var i = p.children.findIndex((e) => e.id === c.id);\n    var newi = Math.max(0, Math.min(p.children.length - 1, i + rel))\n    if (newi === i) return;\n    p.children[i] = p.children[newi];\n    p.children[newi] = c;\n    setIter(iter + 1);\n  }\n\n  return (\n    <AppContainer>\n      <AppSidebar>\n        <DragDropContext onDragEnd={onDragEnd}>\n          <PickerDrawer adapter={workspace.adapter} />\n          <HierarchyContainer>\n            <DrawComponent info={workspace.adapter} data={workspace.body} selection={select} setSelection={setSelect} />\n          </HierarchyContainer>\n        </DragDropContext>\n      </AppSidebar>\n      <DisplayWindow html={html} workspace={workspace} setIter={() => setIter(iter + 1)} />\n      <AppSidebar>\n        <DrawInspector elem={select && workspace.indexes[select]} info={workspace.adapter} setProp={onSetVal} onClone={onClone} onDel={onDel} onMove={onMove} />\n      </AppSidebar>\n    </AppContainer >\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}